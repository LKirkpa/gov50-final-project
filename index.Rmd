---
title: "Gov 50 Final Project"
author: Lauren Alexes Kirkpatrick
description: "My final project"
output:
  distill::distill_article:
    self_contained: false
---

## Project Thoughts

I am interested in exploring data related to the relationship of race and what people choose to declare as a concentration at Harvard (or general majors across the country), along with one's general academic endeavors. As someone that has yet to declare, I feel as though that one's sense of "truly belonging" in a concentration (in regard to race) has influenced why people choose to study a particular field. 

## Proposal and Data

How do greater societal factors concerning identity sway an undergraduate's decision to declare a specific major? More specifically, how do race and income influence the major that post-secondary students decide to declare, or their ability to pursue a post-secondary degree in the first place? In the following project, I aim to explore the lack of diversity in specific academic fields across educational institutions within the United States. I hypothesize that the diversity of the faculty teaching influences a student's decision to declare a particular major, resulting in students of historically marginalized communities to declare majors that correlate with their identity (in relation to faculty or peers). Put simply, I believe that a lack of representation may deter a student from declaring a certain major, along with the income and race of that student having similar influence. 

Ultimately, I propose that there is a clear relationship between one's race, income, along with faculty diversity for a specific academic field, and the major a student declares in college. With a better understanding over how these variables impact one's decision to declare a particular field of study, we can then point to possibly WHY certain academic fields have a specific make-up of declared students (i.e. a racial or sex gap). My OUTCOME VARIABLE of interest is the NUMBER of students in each racial and sex group that DECLARE a particular major. Such ratios are measured from 1976-77 through 2020-21 by surveys conducted by the National Center for Education Statistics. My EXPLANATORY VARIABLES of interest would therefore be (1) the racial diversity in faculty for each major/academic field overtime from 2015 to 2016 (this data stems from an academic article, "Representation and Salary Gaps by Race-Ethnicity and Gender at Selective Public Universities" from SageJournals AND data from the National Center for Education Statistics [Full-time faculty in degree-granting post-secondary institutions, by race/ethnicity, sex, and academic rank: Fall 2019, fall 2020, and fall 2021]), along with (2) the identity of the students declaring said major (the students' RACE). 

To SUPPORT my thesis of race, income, and faculty diversity influencing what major one declares, there would need to be an observable correlation in values between the diversity of specific majors across race/income, and the diversity of faculty. In other words, if there were to be less Black students in one field of study, there would need to be less Black professors in this field. A direct reflection in values would illustrate how those of marginalized communities may deter from declaring a particular field of study that fails to be representative of their own identity. Thus, to DISPROVE my hypothesis, there would be NO observable inconsistent pattern/skew in data in regard to the race and income distribution across majors, and no shared pattern of racial/financial diversity with faculty. One would observe an even distribution of those of different races across the listed majors, along with a faculty unrepresentative of this distribution, demonstrating a LACK of correlation between the diversity of faculty and the diversity of those in a particular field. 

*As I have realized that cleaning up National Center for Education Statistics data tables is quite time consuming, I feel that it is a good first step to leverage the American Community Surveys of 2000 and 2020 (under the U.S. Census Bureau) in looking at the race, income, and educational achievement of individuals. This allows me to A) look for a relationship between income and race, along with progress overtime and B) have a baseline of how race or income impacts one's ability to pursue a post-secondary degree in the first place. Here, I will THEN be able to dig into how race plays a role in one's chosen field of study, along with one's income.

##One Interesting & Polished Data Visualization (The distribution of one variable or the relatinoship between two variables) 

```{r}
library(ggplot2)
library(tidyverse)
acs <- readRDS("acs.rds")

P1 <- ggplot(acs, aes(x = race, y = income)) + geom_jitter(size = .25, alpha = .1) + labs(title = "Race & Income", x = "Race of Respondent", y = "Income of Respondent", caption = "American Community Survey 2000 (U.S. Census Bureau)")
P1
```
The above produces a data visualization that comments on the distribution of income among respondents of the 2000 American Community Survey (ACS) in regard to race. Besides creating another data visualization for the 2020 American Community Survey (for comparison and thus, progress), I hope to develop another data visualization that includes the race of post-secondary students in relation to these students' educational achievement (type of degree) and the field of study of said degree. This data visualization would be achieved through cleaning up the data cited by the National Center for Education Statistics. My hope is that I would be able to draw out a conclusion on the relationship between one's race/income and one's chosen field of study through comparing the two visualizations.


```{r}
edu_diff <- acs |>
  group_by(race,edu) |>
  summarize(income_mean = mean(income, na.rm = T))

edu_diff <- left_join(acs,edu_diff,by=c("race","edu")) %>% 
  filter(!is.na(edu)) |>
  #select(race,edu,income_mean) |>
  distinct(race,edu,income_mean)

ggplot(edu_diff, aes(y=income_mean,x=race)) + 
  geom_bar(position = "dodge", stat="identity") + 
  facet_wrap(~edu,nrow=1) + 
  theme(
    axis.text.x = element_text(angle=45,hjust=1),
    strip.text.x = element_text(size=7),
    strip.background = element_rect(fill="beige", size= 0.5, color="brown"),
    panel.spacing.x = unit(1, "cm")) + 
  labs(title = "Race & Income on Education", x = "Race of Respondent", y = "Avg. Income", caption = "American Community Survey 2000 (U.S. Census Bureau)")


acs$race <- as.factor(acs$race)
levels <- c("White", "Black", "Asian", "Hispanic", "Other")
levels(acs$race) <- levels

summary(lm(income ~ race + edu, data = acs))
```
The following visualization speaks to the relationship of race, average income, and one's education. More specifically, this visualization illustrates a clear relationship between one's race and one's level of education. As the level of education becomes more advanced, there are more distinct differences in the average income of respondents of different races. It makes sense for the average income of respondents to be lower when the educational level achieved is lower, as more advanced educational endeavors require more investment (as one would be paying for more tuition to achieve said educational endeavor). However, it is interesting that there are more explicit differences in average income in accordance to race as education level gets more advanced. This being said, one can make a conclusion that a higher income is directly connected with the level of education one may achieve, no matter of one's race. When race is placed into the picture however, it seems that this variable (of race) is connected to one's choices/opportunities in advancing one's education because of race's relation with average income (which must be explored further). On this note, a confounding variable that must be considered includes one's generational wealth, which may vary among respondents of all races. Generational wealth not only impacts one's ability to seek higher education, but also influences one's average income. Thus, race and average income alone do not dictate this pattern of more advanced educational endeavors depending on higher average income and race. All in all, this visualization answers the first part of my research question of race and one's academic endeavors. Certainly, race ties into one's ability to seek higher education, more specifically through the means of average income being influenced/dictated by race to some degree.  












```{r,eval=FALSE}
library(tidyverse)
library(dplyr)
Table1 <- read.csv("Wompwomp.csv")
Cleaned_Table <- Table1 |>
  slice(-c(41:45))|>
  slice(-(1:4))
Cleaned_Table


  
```

```{r,eval=FALSE}
column_names <- colnames(Cleaned_Table)
column_names
new_coumn_names <- c("",)
colnames(Table1) <- new_column_names
current_row_names <- rownames(Cleaned_Table)
new_row_names <- c(
"Field of study",
"Agriculture and natural resources", 
"Architecture and related services",
"Area, ethnic, cultural, gender, and group studies",	
"Biological and biomedical sciences",
"Business",
"Communication, journalism, and related programs",	
"Communications technologies",	
"Computer and information sciences and support services",
"Education",
"Engineering technologies",	
"English language and literature/letters",	
"Family and consumer sciences/human sciences",	
"Foreign languages, literatures, and linguistics",	
"Health professions and related programs",	
"Homeland security, law enforcement, and firefighting",	
"Legal professions and studies",
"Liberal arts and sciences, general studies, and humanities",	
"Library science",
"Mathematics and statistics",	
"Military technologies and applied sciences",	
"Multi/interdisciplinary studies",
"Parks, recreation, leisure, fitness, and kinesiology",	
"Philosophy and religious studies",	
"Physical sciences and science technologies",	
"Precision production",	
"Psychology",	
"Public administration and social services",	
"Social sciences and history",
"Social sciences",	
"History",	
"Theology and religious vocations",	
"Transportation and materials moving",	
"Visual and performing arts",	
"Other and not classified")
current_row_names[c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36)] <- new_row_names
rownames(Cleaned_Table) <- current_row_names
Cleaned_Table


```


```{r,eval=FALSE}
acs <- acs |>
    mutate(College_Exposure = case_when(
      edu == 1 ~ "Less Than Highschool", 
      edu == 2 ~ "High School",
      edu == 3 ~ "Some College",
      edu == 4 ~ "Bachelors",
      edu == 5 ~ "Advanced Degree"))

ate_edu <- acs |>
  group_by(race, College_Exposure) |>
  summarize(income_mean = mean(income)) |>
    pivot_wider(names_from = race, 
              values_from = income_mean) |>
  mutate(ATE = ())
  
edu_diff <- edu_diff %>% 
  filter(!is.na(edu))

  
ggplot(edu_diff) + 
         geom_col(aes(x = race, y = income_mean)) +
         facet_wrap(~edu)

edu_diff
knitr::kable(edu_diff, col.names = c("Race", "Education", "Income"))

acs$race <- as.factor(acs$race)
levels <- c("White", "Black", "Asian", "Hispanic", "Other")
levels(acs$race) <- levels

summary(lm(income ~ race + edu, data = acs))
```



```{r,eval=FALSE}
Cleaned_Table
rownames(Cleaned_Table)
```



